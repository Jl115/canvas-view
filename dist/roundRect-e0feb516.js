'use strict';

/*
 *  Implements the .roundRect() method of the CanvasPath mixin
 *  as introduced by https://github.com/whatwg/html/pull/6765
 */
(() => {

  Path2D.prototype.roundRect ??= roundRect;
  if (globalThis.CanvasRenderingContext2D) {

    globalThis.CanvasRenderingContext2D.prototype.roundRect ??= roundRect;

  }
  if (globalThis.OffscreenCanvasRenderingContext2D) {

    globalThis.OffscreenCanvasRenderingContext2D.prototype.roundRect ??= roundRect;

  }

  function roundRect(x, y, w, h, radii) {

    if (!([x, y, w, h].every((input) => Number.isFinite(input)))) {

      return;

    }

    radii = parseRadiiArgument(radii);

    let upperLeft, upperRight, lowerRight, lowerLeft;

    if (radii.length === 4) {

      upperLeft = toCornerPoint(radii[0]);
      upperRight = toCornerPoint(radii[1]);
      lowerRight = toCornerPoint(radii[2]);
      lowerLeft = toCornerPoint(radii[3]);

    } else if (radii.length === 3) {

      upperLeft = toCornerPoint(radii[0]);
      upperRight = toCornerPoint(radii[1]);
      lowerLeft = toCornerPoint(radii[1]);
      lowerRight = toCornerPoint(radii[2]);

    } else if (radii.length === 2) {

      upperLeft = toCornerPoint(radii[0]);
      lowerRight = toCornerPoint(radii[0]);
      upperRight = toCornerPoint(radii[1]);
      lowerLeft = toCornerPoint(radii[1]);

    } else if (radii.length === 1) {

      upperLeft = toCornerPoint(radii[0]);
      upperRight = toCornerPoint(radii[0]);
      lowerRight = toCornerPoint(radii[0]);
      lowerLeft = toCornerPoint(radii[0]);

    } else {

      throw new RangeError(`${ getErrorMessageHeader(this) } ${ radii.length } is not a valid size for radii sequence.`);

    }

    const corners = [upperLeft, upperRight, lowerRight, lowerLeft];
    const negativeCorner = corners.find(({x, y}) => x < 0 || y < 0);
    negativeCorner?.x < 0 ? negativeCorner.x : negativeCorner?.y;

    if (corners.some(({x, y}) => !Number.isFinite(x) || !Number.isFinite(y))) {

      return;

    }

    if (negativeCorner) {

      throw new RangeError(`${ getErrorMessageHeader(this) } Radius value ${ negativeCorner } is negative.`);

    }

    fixOverlappingCorners(corners);

    if (w < 0 && h < 0) {

      this.moveTo(x - upperLeft.x, y);
      this.ellipse(x + w + upperRight.x, y - upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI * 1.5, -Math.PI);
      this.ellipse(x + w + lowerRight.x, y + h + lowerRight.y, lowerRight.x, lowerRight.y, 0, -Math.PI, -Math.PI / 2);
      this.ellipse(x - lowerLeft.x, y + h + lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, -Math.PI / 2, 0);
      this.ellipse(x - upperLeft.x, y - upperLeft.y, upperLeft.x, upperLeft.y, 0, 0, -Math.PI / 2);

    } else if (w < 0) {

      this.moveTo(x - upperLeft.x, y);
      this.ellipse(x + w + upperRight.x, y + upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI / 2, -Math.PI, 1);
      this.ellipse(x + w + lowerRight.x, y + h - lowerRight.y, lowerRight.x, lowerRight.y, 0, -Math.PI, -Math.PI * 1.5, 1);
      this.ellipse(x - lowerLeft.x, y + h - lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, Math.PI / 2, 0, 1);
      this.ellipse(x - upperLeft.x, y + upperLeft.y, upperLeft.x, upperLeft.y, 0, 0, -Math.PI / 2, 1);

    } else if (h < 0) {

      this.moveTo(x + upperLeft.x, y);
      this.ellipse(x + w - upperRight.x, y - upperRight.y, upperRight.x, upperRight.y, 0, Math.PI / 2, 0, 1);
      this.ellipse(x + w - lowerRight.x, y + h + lowerRight.y, lowerRight.x, lowerRight.y, 0, 0, -Math.PI / 2, 1);
      this.ellipse(x + lowerLeft.x, y + h + lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, -Math.PI / 2, -Math.PI, 1);
      this.ellipse(x + upperLeft.x, y - upperLeft.y, upperLeft.x, upperLeft.y, 0, -Math.PI, -Math.PI * 1.5, 1);

    } else {

      this.moveTo(x + upperLeft.x, y);
      this.ellipse(x + w - upperRight.x, y + upperRight.y, upperRight.x, upperRight.y, 0, -Math.PI / 2, 0);
      this.ellipse(x + w - lowerRight.x, y + h - lowerRight.y, lowerRight.x, lowerRight.y, 0, 0, Math.PI / 2);
      this.ellipse(x + lowerLeft.x, y + h - lowerLeft.y, lowerLeft.x, lowerLeft.y, 0, Math.PI / 2, Math.PI);
      this.ellipse(x + upperLeft.x, y + upperLeft.y, upperLeft.x, upperLeft.y, 0, Math.PI, Math.PI * 1.5);

    }

    this.closePath();
    this.moveTo(x, y);

    function toDOMPointInit(value) {

      const {x, y, z, w} = value;
      return {x, y, z, w};

    }

    function parseRadiiArgument(value) {

      // https://webidl.spec.whatwg.org/#es-union
      // with 'optional (unrestricted double or DOMPointInit
      //   or sequence<(unrestricted double or DOMPointInit)>) radii = 0'
      const type = typeof value;

      if (type === "undefined" || value === null) {

        return [0];

      }
      if (type === "function") {

        return [NaN];

      }
      if (type === "object") {

        if (typeof value[Symbol.iterator] === "function") {

          return [...value].map((elem) => {
            // https://webidl.spec.whatwg.org/#es-union
            // with '(unrestricted double or DOMPointInit)'
            const elemType = typeof elem;
            if (elemType === "undefined" || elem === null) {
              return 0;
            }
            if (elemType === "function") {
              return NaN;
            }
            if (elemType === "object") {
              return toDOMPointInit(elem);
            }
            return toUnrestrictedNumber(elem);
          });

        }

        return [toDOMPointInit(value)];

      }

      return [toUnrestrictedNumber(value)];

    }

    function toUnrestrictedNumber(value) {

      return +value;

    }

    function toCornerPoint(value) {

      const asNumber = toUnrestrictedNumber(value);
      if (Number.isFinite(asNumber)) {

        return {
          x: asNumber,
          y: asNumber
        };

      }
      if (Object(value) === value) {

        return {
          x: toUnrestrictedNumber(value.x ?? 0),
          y: toUnrestrictedNumber(value.y ?? 0)
        };

      }

      return {
        x: NaN,
        y: NaN
      };

    }

    function fixOverlappingCorners(corners) {

      const [upperLeft, upperRight, lowerRight, lowerLeft] = corners;
      const factors = [
        Math.abs(w) / (upperLeft.x + upperRight.x),
        Math.abs(h) / (upperRight.y + lowerRight.y),
        Math.abs(w) / (lowerRight.x + lowerLeft.x),
        Math.abs(h) / (upperLeft.y + lowerLeft.y)
      ];
      const minFactor = Math.min(...factors);
      if (minFactor <= 1) {

        for (const radii of corners) {

          radii.x *= minFactor;
          radii.y *= minFactor;

        }

      }

    }

  }

  function getErrorMessageHeader(instance) {

    return `Failed to execute 'roundRect' on '${ getConstructorName(instance) }':`;

  }

  function getConstructorName(instance) {

    return Object(instance) === instance &&
      instance instanceof Path2D ? "Path2D" :
      instance instanceof globalThis?.CanvasRenderingContext2D ? "CanvasRenderingContext2D" :
      instance instanceof globalThis?.OffscreenCanvasRenderingContext2D ? "OffscreenCanvasRenderingContext2D" :
      instance?.constructor.name ||
      instance;

  }

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91bmRSZWN0LWUwZmViNTE2LmpzIiwic291cmNlcyI6WyIuLi9ub2RlX21vZHVsZXMvY2FudmFzLXJvdW5kcmVjdC1wb2x5ZmlsbC9yb3VuZFJlY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqICBJbXBsZW1lbnRzIHRoZSAucm91bmRSZWN0KCkgbWV0aG9kIG9mIHRoZSBDYW52YXNQYXRoIG1peGluXG4gKiAgYXMgaW50cm9kdWNlZCBieSBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvcHVsbC82NzY1XG4gKi9cbigoKSA9PiB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgUGF0aDJELnByb3RvdHlwZS5yb3VuZFJlY3QgPz89IHJvdW5kUmVjdDtcbiAgaWYgKGdsb2JhbFRoaXMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG5cbiAgICBnbG9iYWxUaGlzLkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUucm91bmRSZWN0ID8/PSByb3VuZFJlY3Q7XG5cbiAgfVxuICBpZiAoZ2xvYmFsVGhpcy5PZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcblxuICAgIGdsb2JhbFRoaXMuT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5yb3VuZFJlY3QgPz89IHJvdW5kUmVjdDtcblxuICB9XG5cbiAgZnVuY3Rpb24gcm91bmRSZWN0KHgsIHksIHcsIGgsIHJhZGlpKSB7XG5cbiAgICBpZiAoIShbeCwgeSwgdywgaF0uZXZlcnkoKGlucHV0KSA9PiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSkpIHtcblxuICAgICAgcmV0dXJuO1xuXG4gICAgfVxuXG4gICAgcmFkaWkgPSBwYXJzZVJhZGlpQXJndW1lbnQocmFkaWkpO1xuXG4gICAgbGV0IHVwcGVyTGVmdCwgdXBwZXJSaWdodCwgbG93ZXJSaWdodCwgbG93ZXJMZWZ0O1xuXG4gICAgaWYgKHJhZGlpLmxlbmd0aCA9PT0gNCkge1xuXG4gICAgICB1cHBlckxlZnQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzBdKTtcbiAgICAgIHVwcGVyUmlnaHQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzFdKTtcbiAgICAgIGxvd2VyUmlnaHQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzJdKTtcbiAgICAgIGxvd2VyTGVmdCA9IHRvQ29ybmVyUG9pbnQocmFkaWlbM10pO1xuXG4gICAgfSBlbHNlIGlmIChyYWRpaS5sZW5ndGggPT09IDMpIHtcblxuICAgICAgdXBwZXJMZWZ0ID0gdG9Db3JuZXJQb2ludChyYWRpaVswXSk7XG4gICAgICB1cHBlclJpZ2h0ID0gdG9Db3JuZXJQb2ludChyYWRpaVsxXSk7XG4gICAgICBsb3dlckxlZnQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzFdKTtcbiAgICAgIGxvd2VyUmlnaHQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzJdKTtcblxuICAgIH0gZWxzZSBpZiAocmFkaWkubGVuZ3RoID09PSAyKSB7XG5cbiAgICAgIHVwcGVyTGVmdCA9IHRvQ29ybmVyUG9pbnQocmFkaWlbMF0pO1xuICAgICAgbG93ZXJSaWdodCA9IHRvQ29ybmVyUG9pbnQocmFkaWlbMF0pO1xuICAgICAgdXBwZXJSaWdodCA9IHRvQ29ybmVyUG9pbnQocmFkaWlbMV0pO1xuICAgICAgbG93ZXJMZWZ0ID0gdG9Db3JuZXJQb2ludChyYWRpaVsxXSk7XG5cbiAgICB9IGVsc2UgaWYgKHJhZGlpLmxlbmd0aCA9PT0gMSkge1xuXG4gICAgICB1cHBlckxlZnQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzBdKTtcbiAgICAgIHVwcGVyUmlnaHQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzBdKTtcbiAgICAgIGxvd2VyUmlnaHQgPSB0b0Nvcm5lclBvaW50KHJhZGlpWzBdKTtcbiAgICAgIGxvd2VyTGVmdCA9IHRvQ29ybmVyUG9pbnQocmFkaWlbMF0pO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCR7IGdldEVycm9yTWVzc2FnZUhlYWRlcih0aGlzKSB9ICR7IHJhZGlpLmxlbmd0aCB9IGlzIG5vdCBhIHZhbGlkIHNpemUgZm9yIHJhZGlpIHNlcXVlbmNlLmApO1xuXG4gICAgfVxuXG4gICAgY29uc3QgY29ybmVycyA9IFt1cHBlckxlZnQsIHVwcGVyUmlnaHQsIGxvd2VyUmlnaHQsIGxvd2VyTGVmdF07XG4gICAgY29uc3QgbmVnYXRpdmVDb3JuZXIgPSBjb3JuZXJzLmZpbmQoKHt4LCB5fSkgPT4geCA8IDAgfHwgeSA8IDApO1xuICAgIGNvbnN0IG5lZ2F0aXZlVmFsdWUgPSBuZWdhdGl2ZUNvcm5lcj8ueCA8IDAgPyBuZWdhdGl2ZUNvcm5lci54IDogbmVnYXRpdmVDb3JuZXI/LnlcblxuICAgIGlmIChjb3JuZXJzLnNvbWUoKHt4LCB5fSkgPT4gIU51bWJlci5pc0Zpbml0ZSh4KSB8fCAhTnVtYmVyLmlzRmluaXRlKHkpKSkge1xuXG4gICAgICByZXR1cm47XG5cbiAgICB9XG5cbiAgICBpZiAobmVnYXRpdmVDb3JuZXIpIHtcblxuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYCR7IGdldEVycm9yTWVzc2FnZUhlYWRlcih0aGlzKSB9IFJhZGl1cyB2YWx1ZSAkeyBuZWdhdGl2ZUNvcm5lciB9IGlzIG5lZ2F0aXZlLmApO1xuXG4gICAgfVxuXG4gICAgZml4T3ZlcmxhcHBpbmdDb3JuZXJzKGNvcm5lcnMpO1xuXG4gICAgaWYgKHcgPCAwICYmIGggPCAwKSB7XG5cbiAgICAgIHRoaXMubW92ZVRvKHggLSB1cHBlckxlZnQueCwgeSk7XG4gICAgICB0aGlzLmVsbGlwc2UoeCArIHcgKyB1cHBlclJpZ2h0LngsIHkgLSB1cHBlclJpZ2h0LnksIHVwcGVyUmlnaHQueCwgdXBwZXJSaWdodC55LCAwLCAtTWF0aC5QSSAqIDEuNSwgLU1hdGguUEkpO1xuICAgICAgdGhpcy5lbGxpcHNlKHggKyB3ICsgbG93ZXJSaWdodC54LCB5ICsgaCArIGxvd2VyUmlnaHQueSwgbG93ZXJSaWdodC54LCBsb3dlclJpZ2h0LnksIDAsIC1NYXRoLlBJLCAtTWF0aC5QSSAvIDIpO1xuICAgICAgdGhpcy5lbGxpcHNlKHggLSBsb3dlckxlZnQueCwgeSArIGggKyBsb3dlckxlZnQueSwgbG93ZXJMZWZ0LngsIGxvd2VyTGVmdC55LCAwLCAtTWF0aC5QSSAvIDIsIDApO1xuICAgICAgdGhpcy5lbGxpcHNlKHggLSB1cHBlckxlZnQueCwgeSAtIHVwcGVyTGVmdC55LCB1cHBlckxlZnQueCwgdXBwZXJMZWZ0LnksIDAsIDAsIC1NYXRoLlBJIC8gMik7XG5cbiAgICB9IGVsc2UgaWYgKHcgPCAwKSB7XG5cbiAgICAgIHRoaXMubW92ZVRvKHggLSB1cHBlckxlZnQueCwgeSk7XG4gICAgICB0aGlzLmVsbGlwc2UoeCArIHcgKyB1cHBlclJpZ2h0LngsIHkgKyB1cHBlclJpZ2h0LnksIHVwcGVyUmlnaHQueCwgdXBwZXJSaWdodC55LCAwLCAtTWF0aC5QSSAvIDIsIC1NYXRoLlBJLCAxKTtcbiAgICAgIHRoaXMuZWxsaXBzZSh4ICsgdyArIGxvd2VyUmlnaHQueCwgeSArIGggLSBsb3dlclJpZ2h0LnksIGxvd2VyUmlnaHQueCwgbG93ZXJSaWdodC55LCAwLCAtTWF0aC5QSSwgLU1hdGguUEkgKiAxLjUsIDEpO1xuICAgICAgdGhpcy5lbGxpcHNlKHggLSBsb3dlckxlZnQueCwgeSArIGggLSBsb3dlckxlZnQueSwgbG93ZXJMZWZ0LngsIGxvd2VyTGVmdC55LCAwLCBNYXRoLlBJIC8gMiwgMCwgMSk7XG4gICAgICB0aGlzLmVsbGlwc2UoeCAtIHVwcGVyTGVmdC54LCB5ICsgdXBwZXJMZWZ0LnksIHVwcGVyTGVmdC54LCB1cHBlckxlZnQueSwgMCwgMCwgLU1hdGguUEkgLyAyLCAxKTtcblxuICAgIH0gZWxzZSBpZiAoaCA8IDApIHtcblxuICAgICAgdGhpcy5tb3ZlVG8oeCArIHVwcGVyTGVmdC54LCB5KTtcbiAgICAgIHRoaXMuZWxsaXBzZSh4ICsgdyAtIHVwcGVyUmlnaHQueCwgeSAtIHVwcGVyUmlnaHQueSwgdXBwZXJSaWdodC54LCB1cHBlclJpZ2h0LnksIDAsIE1hdGguUEkgLyAyLCAwLCAxKTtcbiAgICAgIHRoaXMuZWxsaXBzZSh4ICsgdyAtIGxvd2VyUmlnaHQueCwgeSArIGggKyBsb3dlclJpZ2h0LnksIGxvd2VyUmlnaHQueCwgbG93ZXJSaWdodC55LCAwLCAwLCAtTWF0aC5QSSAvIDIsIDEpO1xuICAgICAgdGhpcy5lbGxpcHNlKHggKyBsb3dlckxlZnQueCwgeSArIGggKyBsb3dlckxlZnQueSwgbG93ZXJMZWZ0LngsIGxvd2VyTGVmdC55LCAwLCAtTWF0aC5QSSAvIDIsIC1NYXRoLlBJLCAxKTtcbiAgICAgIHRoaXMuZWxsaXBzZSh4ICsgdXBwZXJMZWZ0LngsIHkgLSB1cHBlckxlZnQueSwgdXBwZXJMZWZ0LngsIHVwcGVyTGVmdC55LCAwLCAtTWF0aC5QSSwgLU1hdGguUEkgKiAxLjUsIDEpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgdGhpcy5tb3ZlVG8oeCArIHVwcGVyTGVmdC54LCB5KTtcbiAgICAgIHRoaXMuZWxsaXBzZSh4ICsgdyAtIHVwcGVyUmlnaHQueCwgeSArIHVwcGVyUmlnaHQueSwgdXBwZXJSaWdodC54LCB1cHBlclJpZ2h0LnksIDAsIC1NYXRoLlBJIC8gMiwgMCk7XG4gICAgICB0aGlzLmVsbGlwc2UoeCArIHcgLSBsb3dlclJpZ2h0LngsIHkgKyBoIC0gbG93ZXJSaWdodC55LCBsb3dlclJpZ2h0LngsIGxvd2VyUmlnaHQueSwgMCwgMCwgTWF0aC5QSSAvIDIpO1xuICAgICAgdGhpcy5lbGxpcHNlKHggKyBsb3dlckxlZnQueCwgeSArIGggLSBsb3dlckxlZnQueSwgbG93ZXJMZWZ0LngsIGxvd2VyTGVmdC55LCAwLCBNYXRoLlBJIC8gMiwgTWF0aC5QSSk7XG4gICAgICB0aGlzLmVsbGlwc2UoeCArIHVwcGVyTGVmdC54LCB5ICsgdXBwZXJMZWZ0LnksIHVwcGVyTGVmdC54LCB1cHBlckxlZnQueSwgMCwgTWF0aC5QSSwgTWF0aC5QSSAqIDEuNSk7XG5cbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlUGF0aCgpO1xuICAgIHRoaXMubW92ZVRvKHgsIHkpO1xuXG4gICAgZnVuY3Rpb24gdG9ET01Qb2ludEluaXQodmFsdWUpIHtcblxuICAgICAgY29uc3Qge3gsIHksIHosIHd9ID0gdmFsdWU7XG4gICAgICByZXR1cm4ge3gsIHksIHosIHd9O1xuXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VSYWRpaUFyZ3VtZW50KHZhbHVlKSB7XG5cbiAgICAgIC8vIGh0dHBzOi8vd2ViaWRsLnNwZWMud2hhdHdnLm9yZy8jZXMtdW5pb25cbiAgICAgIC8vIHdpdGggJ29wdGlvbmFsICh1bnJlc3RyaWN0ZWQgZG91YmxlIG9yIERPTVBvaW50SW5pdFxuICAgICAgLy8gICBvciBzZXF1ZW5jZTwodW5yZXN0cmljdGVkIGRvdWJsZSBvciBET01Qb2ludEluaXQpPikgcmFkaWkgPSAwJ1xuICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgICAgaWYgKHR5cGUgPT09IFwidW5kZWZpbmVkXCIgfHwgdmFsdWUgPT09IG51bGwpIHtcblxuICAgICAgICByZXR1cm4gWzBdO1xuXG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cbiAgICAgICAgcmV0dXJuIFtOYU5dO1xuXG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gXCJvYmplY3RcIikge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSA9PT0gXCJmdW5jdGlvblwiKSB7XG5cbiAgICAgICAgICByZXR1cm4gWy4uLnZhbHVlXS5tYXAoKGVsZW0pID0+IHtcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vd2ViaWRsLnNwZWMud2hhdHdnLm9yZy8jZXMtdW5pb25cbiAgICAgICAgICAgIC8vIHdpdGggJyh1bnJlc3RyaWN0ZWQgZG91YmxlIG9yIERPTVBvaW50SW5pdCknXG4gICAgICAgICAgICBjb25zdCBlbGVtVHlwZSA9IHR5cGVvZiBlbGVtO1xuICAgICAgICAgICAgaWYgKGVsZW1UeXBlID09PSBcInVuZGVmaW5lZFwiIHx8IGVsZW0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWxlbVR5cGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1UeXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0b0RPTVBvaW50SW5pdChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0b1VucmVzdHJpY3RlZE51bWJlcihlbGVtKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt0b0RPTVBvaW50SW5pdCh2YWx1ZSldO1xuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbdG9VbnJlc3RyaWN0ZWROdW1iZXIodmFsdWUpXTtcblxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRvVW5yZXN0cmljdGVkTnVtYmVyKHZhbHVlKSB7XG5cbiAgICAgIHJldHVybiArdmFsdWU7XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b0Nvcm5lclBvaW50KHZhbHVlKSB7XG5cbiAgICAgIGNvbnN0IGFzTnVtYmVyID0gdG9VbnJlc3RyaWN0ZWROdW1iZXIodmFsdWUpO1xuICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShhc051bWJlcikpIHtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IGFzTnVtYmVyLFxuICAgICAgICAgIHk6IGFzTnVtYmVyXG4gICAgICAgIH07XG5cbiAgICAgIH1cbiAgICAgIGlmIChPYmplY3QodmFsdWUpID09PSB2YWx1ZSkge1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgeDogdG9VbnJlc3RyaWN0ZWROdW1iZXIodmFsdWUueCA/PyAwKSxcbiAgICAgICAgICB5OiB0b1VucmVzdHJpY3RlZE51bWJlcih2YWx1ZS55ID8/IDApXG4gICAgICAgIH07XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogTmFOLFxuICAgICAgICB5OiBOYU5cbiAgICAgIH07XG5cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaXhPdmVybGFwcGluZ0Nvcm5lcnMoY29ybmVycykge1xuXG4gICAgICBjb25zdCBbdXBwZXJMZWZ0LCB1cHBlclJpZ2h0LCBsb3dlclJpZ2h0LCBsb3dlckxlZnRdID0gY29ybmVycztcbiAgICAgIGNvbnN0IGZhY3RvcnMgPSBbXG4gICAgICAgIE1hdGguYWJzKHcpIC8gKHVwcGVyTGVmdC54ICsgdXBwZXJSaWdodC54KSxcbiAgICAgICAgTWF0aC5hYnMoaCkgLyAodXBwZXJSaWdodC55ICsgbG93ZXJSaWdodC55KSxcbiAgICAgICAgTWF0aC5hYnModykgLyAobG93ZXJSaWdodC54ICsgbG93ZXJMZWZ0LngpLFxuICAgICAgICBNYXRoLmFicyhoKSAvICh1cHBlckxlZnQueSArIGxvd2VyTGVmdC55KVxuICAgICAgXTtcbiAgICAgIGNvbnN0IG1pbkZhY3RvciA9IE1hdGgubWluKC4uLmZhY3RvcnMpO1xuICAgICAgaWYgKG1pbkZhY3RvciA8PSAxKSB7XG5cbiAgICAgICAgZm9yIChjb25zdCByYWRpaSBvZiBjb3JuZXJzKSB7XG5cbiAgICAgICAgICByYWRpaS54ICo9IG1pbkZhY3RvcjtcbiAgICAgICAgICByYWRpaS55ICo9IG1pbkZhY3RvcjtcblxuICAgICAgICB9XG5cbiAgICAgIH1cblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlSGVhZGVyKGluc3RhbmNlKSB7XG5cbiAgICByZXR1cm4gYEZhaWxlZCB0byBleGVjdXRlICdyb3VuZFJlY3QnIG9uICckeyBnZXRDb25zdHJ1Y3Rvck5hbWUoaW5zdGFuY2UpIH0nOmA7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbnN0cnVjdG9yTmFtZShpbnN0YW5jZSkge1xuXG4gICAgcmV0dXJuIE9iamVjdChpbnN0YW5jZSkgPT09IGluc3RhbmNlICYmXG4gICAgICBpbnN0YW5jZSBpbnN0YW5jZW9mIFBhdGgyRCA/IFwiUGF0aDJEXCIgOlxuICAgICAgaW5zdGFuY2UgaW5zdGFuY2VvZiBnbG9iYWxUaGlzPy5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPyBcIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFwiIDpcbiAgICAgIGluc3RhbmNlIGluc3RhbmNlb2YgZ2xvYmFsVGhpcz8uT2Zmc2NyZWVuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID8gXCJPZmZzY3JlZW5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcIiA6XG4gICAgICBpbnN0YW5jZT8uY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgaW5zdGFuY2U7XG5cbiAgfVxuXG59KSgpO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLE1BQU07QUFHUDtBQUNBLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDO0FBQzNDLEVBQUUsSUFBSSxVQUFVLENBQUMsd0JBQXdCLEVBQUU7QUFDM0M7QUFDQSxJQUFJLFVBQVUsQ0FBQyx3QkFBd0IsQ0FBQyxTQUFTLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQztBQUMxRTtBQUNBLEdBQUc7QUFDSCxFQUFFLElBQUksVUFBVSxDQUFDLGlDQUFpQyxFQUFFO0FBQ3BEO0FBQ0EsSUFBSSxVQUFVLENBQUMsaUNBQWlDLENBQUMsU0FBUyxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUM7QUFDbkY7QUFDQSxHQUFHO0FBQ0g7QUFDQSxFQUFFLFNBQVMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUU7QUFDeEM7QUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssS0FBSyxNQUFNLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNsRTtBQUNBLE1BQU0sT0FBTztBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0EsSUFBSSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdEM7QUFDQSxJQUFJLElBQUksU0FBUyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsU0FBUyxDQUFDO0FBQ3JEO0FBQ0EsSUFBSSxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO0FBQzVCO0FBQ0EsTUFBTSxTQUFTLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFDLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQyxNQUFNLFVBQVUsR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0MsTUFBTSxTQUFTLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFDO0FBQ0EsS0FBSyxNQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDbkM7QUFDQSxNQUFNLFNBQVMsR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUMsTUFBTSxVQUFVLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNDLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQyxNQUFNLFVBQVUsR0FBRyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDM0M7QUFDQSxLQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUNuQztBQUNBLE1BQU0sU0FBUyxH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QUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUN0SCxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN2RyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ25HO0FBQ0EsS0FBSyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QjtBQUNBLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN0QyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDckgsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUMzSCxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3pHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3RHO0FBQ0EsS0FBSyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUN0QjtBQUNBLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUN0QyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzdHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbEgsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2pILE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9HO0FBQ0EsS0FBSyxNQUFNO0FBQ1g7QUFDQSxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEMsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDM0csTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5RyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzVHLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUMxRztBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUksSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDdEI7QUFDQSxJQUFJLFNBQVMsY0FBYyxDQUFDLEtBQUss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
